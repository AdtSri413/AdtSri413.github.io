<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Testing</title>

    <script type="text/javascript">
        function fileChanged(val) 
        {
            //assume the value is not an image
            var isImage = false;
            var msg = "", path = "";
            var validImages = ["jpg","gif","png","bmp"];
            for (var i = 0, ilength = validImages.length; i < ilength; ++i) 
            {
                if (val.indexOf("." + validImages[i]) !== -1) { 
                isImage = true;
                break; 
                }
            }
            if (isImage) 
            {
                path = "file:///" + encodeURI(val);
                msg = val.substr((val.lastIndexOf("\\\\") + 1));
            } 
            else 
            {
                path = "";
                msg = "Not a valid image";
            }
            document.getElementById("img").src = path;
            document.getElementById("info").innerHTML = msg;
        }

        window.onload = function() 
        {
            document.getElementById("image").onchange = function() { fileChanged(this.value); };
        };
    </script>

    </head>
    <body>
        <form action="" method="get">
            <p><input type="file" name="image" id="image"  onchange="onload(event)" style="display: none;"></p>
            <p><img src="" id="img" height="150" alt=""><br>
                <span id="info"></span>
            </p>
        </form>
    </body>
</html>